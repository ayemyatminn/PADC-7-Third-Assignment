<!DOCTYPE html>
<html>
    <head>
        <title>PADC-7 Third Assignment</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body>
        <nav>
            <div class="nav-wrapper">
              <a href="#!" class="brand-logo"><i class="material-icons">video_library</i>TheMovieDB</a>             
            </div>
        </nav>

        <div id="movie_list" class="row">
            <template id="movie_template">
                <div class="col s4 m3">
                    <div class="card horizontal">
                        <div class="card-image">
                            <img src="image/movieIcon.png" id="movie_image">
                        </div>
                        <div class="card-stacked">
                            <div class="card-content">
                                <p id="movie_preview">I am a very simple card. I am good at containing small bits of information.</p>
                            </div>
                            <div class="card-action">
                                <p id="movie_title">This is a link</p>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </div>

        

        <script>
            class Movie{
                constructor(movieImage,movieTitle,moviePreview){
                    this.movieImage = movieImage
                    this.moviePreview = moviePreview
                    this.movieTitle = movieTitle
                    this.template = document.getElementById("movie_template").innerHTML;
                }

                showMovie(){
                    const result = this.template
                    .replace("image/movieIcon.png",this.movieImage)
                    .replace("This is a link",this.movieTitle)
                    .replace("I am a very simple card. I am good at containing small bits of information.",this.moviePreview);
                    return result;
                }
            }
            const mov1 = new Movie("https://image.tmdb.org/t/p/w185_and_h278_bestv2/9E2y5Q7WlCVNEhP5GiVTjhEhx1o.jpg","It","In a small town in Maine, seven children known as The Losers Club come face to face with life problems, bullies and a monster that takes the shape of a clown called Pennywise.");
            const mov2 = new Movie("https://image.tmdb.org/t/p/w185_and_h278_bestv2/aMpyrCizvSdc0UIMblJ1srVgAEF.jpg","Blade Runner 2049","Thor is imprisoned on the other side of the universe and finds himself in a race against time to get back to Asgard to stop Ragnarok, the prophecy of destruction to his homeworld and the end of Asgardian civilization, at the hands of an all-powerful new threat, the ruthless Hela.");
            const mov3 = new Movie("https://image.tmdb.org/t/p/w185_and_h278_bestv2/8dTWj3c74RDhXfSUZpuyVNJrgS.jpg","American Made","Fueled by his restored faith in humanity and inspired by Superman's selfless act, Bruce Wayne and Diana Prince assemble a team of metahumans consisting of Barry Allen, Arthur Curry, and Victor Stone to face the catastrophic threat of Steppenwolf and the Parademons who are on the hunt for three Mother Boxes on Earth.");
            //document.getElementById("movie_list").innerHTML = mov1.showMovie();
            const movieData = [mov1,mov2,mov3];
            const list = document.getElementById("movie_list");
            for (let i in movieData){
                console.log(i);
                console.log(movieData[i]);
                list.innerHTML += movieData[i].showMovie()
            }
        </script>

    </body>
</html>